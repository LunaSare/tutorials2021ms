%&latex
\documentclass[12pt]{article}
\usepackage{amsthm,amsmath}
\usepackage{graphicx,psfrag,epsf}
\usepackage{enumerate}
\usepackage{natbib}
\usepackage{url} % not crucial - just used below for the URL
\usepackage{amsthm,amsmath}
\usepackage[utf8]{inputenc}

%\pdfminorversion=4
% NOTE: To produce blinded version, replace "0" with "1" below.
\newcommand{\blind}{0}

% DON'T change margins - should be 1 inch all around.
\addtolength{\oddsidemargin}{-.5in}%
\addtolength{\evensidemargin}{-.5in}%
\addtolength{\textwidth}{1in}%
\addtolength{\textheight}{1.3in}%
\addtolength{\topmargin}{-.8in}%


\begin{document}

%\bibliographystyle{natbib}
%\bibliographystyle{bmc-mathphys}
\bibliographystyle{agsm}

\def\spacingset#1{\renewcommand{\baselinestretch}%
{#1}\small\normalsize} \spacingset{1}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\if0\blind
{
  \title{\bf Teaching analysis reproducibility with accessibility: Enriching secondary documentation to support skill level diversity of users.}
  \author{Luna L. Sanchez Reyes\thanks{
    The authors gratefully acknowledge ``Sustaining the Open Tree of Life``, NSF ABI No. 1759838, and ABI No. 1759846.}\hspace{.2cm}\\
    School of Natural Sciences, University of California, Merced\\
    and \\
    Emily Jane McTavish \\
    School of Natural Sciences, University of California, Merced}
  \maketitle
} \fi

\if1\blind
{
  \bigskip
  \bigskip
  \bigskip
  \begin{center}
    {\LARGE\bf Teaching analysis reproducibility with accessibility: Enriching secondary documentation to support skill level diversity of users.}
\end{center}
  \medskip
} \fi

\bigskip
\begin{abstract}
Research reproducibility is essential for scientific development. Yet, rates of reproducibility
 are low, especially in the natural sciences. In the current scientific landscape,
most research relies on computing tools and software. Hence, efforts for increasing
reproducibility rates have focused on providing availability of scientific workflows
as computer code, as well as raw and processed data in a digital form.
However, making these research products widely available, usually online, does not
necessarily ensures that
they can be easily reached by the majority of the population,
making them effectively inaccessible, counteracting availability and hindering reproducibility.

In this paper, we argue that accessibility of resources is a key aspect of research reproducibility,
yet, to our knowledge, it has been widely overlooked.
We recognize that accessibility has many angles (social, psychological,
education level), but we focus on lack of accessibility at the skill and pedagogical level.
Using an example within evolutionary biology, we identify barriers to
accessibility in the natural sciences:
%% list the barriers
highly specialized jargon,
Then, we propose a set of principles to improve accessibility of code and data,
and illustrate their application in a set of teaching materials for evolutionary biology that we put
to work in the field.
Finally, we elaborate on the general application of these principles for
documenting scientific workflows, to provide present learners
and future researchers with tools for successful scientific reproducibility.
%> ** add a sentence on implications for teaching reproducibility


%% Projects that address availability of code and data in the natural sciences
%% have focused on producing documentation that describes the nature and usage of the
%% resources.
%% However, it is often written using highly specialized language that is largely
%% inaccessible for the average target user. Additionally, baseline
%% computational knowledge and skills required to access scientific results are often
%% not found among potential users, and keep on increasing.

%% **Introduce OpenTree in abstract??




\end{abstract}

\noindent%
{\it Keywords:}  open science, R, phylogenetics, Open Tree of Life
\vfill

\newpage
\spacingset{1.45} % DON'T change the spacing!
\section*{Introduction}
\label{sec:intro}

Reproducibility --the extent to which consistent results are obtained when a scientific
research experiment or workflow is repeated \citep{repdef2021}--
is a key aspect of the advancement
of science, as it constitutes a minimum standard that allows understanding research products
(e.g., methods, data, analysis, results, etc.)
to determine their reliability and generality, and eventually build up scientific
knowledge and applications based on those products
\citep{king1995replication, peng2011reproducible, powers2019open}.
In the natural sciences, rates of reproducibility are low \citep{ioannidis2005most, prinz2011believe},
which has elicited concerns about a reproducibility crisis in the field \citep{baker2016reproducibility}.
%%% The scientific community has united to incentivize cultural changes that will improve
%%% reproducibility rates long term, such as transparency, availability, and workflow
%%% automatization, to name a few \citep{peng2015reproducibility}.
In response, the scientific community has been developing new principles and standards to incentivize
cultural changes in an effort to improve long term reproducibility rates in the natural sciences
\citep{peng2015reproducibility, wilkinson2016fair}.
A standard for reproducibility that has received much attention is scientific availability, which
we define as a property denoting that a research product can be acquired, copied, analyzed,
processed and/or reused, at no financial, legal or technical cost \citep{arnold2019turing},
and with no geographic, demographic or temporal barriers for the population \citep{fecher2014open}.
In this paper, we argue that availability can not be fully achieved without accessibility (Box 1).
We identify factors that have particularly affected accessibility in
the natural sciences, and ways the scientific community can address them to create reproducible
scientific workflows. These principles can be generalized and integrated
into the undergraduate and graduate school STEM curriculum, either for courses specialized
in reproducibility or within other subject areas as a necessary component of
successful and impactful science.

% ** describe/introduce reproducibility curriculum here


\bigskip
\bigskip

\noindent\fbox{%
    \parbox{\textwidth}{%
    \textbf{Box 1. The role of accessibility in improving reproducibility.}
      % Availability is defined as the fact or possibility that something can be bought,
      % used, or reached by someone \citep{availability2022cambridge}.
      % Accessibility is defined as "the fact of being able to be reached or obtained easily"
      % \citep{accessibility2022cambridge}
      Availability and accessibility are conceptually accepted as synonyms for ``the fact
      of being able to be reached" \citep{available-accessible2022cambridge}.
      However, accessibility's definition goes further and describes it as the
      ``fact of being able to be reached \textbf{easily}" \citep{accessibility2022cambridge}.
      A secondary definition of accessibility elaborates more on this: ``the quality
      of being \textbf{easy to understand}''.
      % Yet, in practice, availability does not imply accessibility.

      What we realize from these definitions is that in practice, something might
      be available but not necessarily accessible,
      hindering the realization of availability.
      To illustrate the practical difference between availability and accessibility we
      will use an allegory that goes like this:

      ** Change marshmallow story to cake

      ** Explain different types of barriers to accessibility within the example, then within science

      ** Explain why we focus on psychological/social/pedagogical barriers


      A couple of brand new marshmallow bags remained in a common office area after
      a social gathering.
      The marshmallows were not claimed by anybody, so they were left in the common area,
      freely available to be taken or eaten by anyone in the office.
      Yet, the marshmallow bags stayed in the common area, unopened for days and even weeks.
      It was not until someone decided to open the bags and placed the marshmallows on a tray,
      that people started actually eating them. They were gone in a matter of hours.
      Scientific products are not sweet as marshmallows, but they are a coveted resource.
      While sharing, describing and documenting makes scientific products available,
      it does not necessarily makes them accessible.

      ** Now, explain different types of barriers to accessibility in science
      (Jessica: Maybe say that lack of accessibility can be due to a number of
      factors (physical, resources, economic), but one critical factor is the use
      of impenetrable expert language.)

      For example, documentation of an
      available scientific workflow might be written using expert language that is too foreign
      for a general audience to successfully reproduce the workflow.

      While some individuals might
      be able to invest the time to learn the expert language to successfully reproduce
      the workflow, this will not be the case for the majority; even if it is
      something that would be useful long term, the short term time investment
      is often too high for individuals to engage with it, making the workflow and its results
      effectively inaccessible and hence unavailable to the majority of the community.
    }%
}
\bigskip


To elaborate on our thesis,
%% we use a common scientific workflow in phylogenetics,
%% ** Jessica mentions that workflow is confusing as she thought it referred to the OpenTree
%% workflow, but we actually mean the more general workflow of reconstructing a phylogenetic tree.
%% She suggests something more general:
we choose an example from the research field of phylogenetics,
a discipline within evolutionary biology. Phylogenetics focuses
on investigating the history of shared ancestry of living organisms from biological data,
and represents
this evolutionary history in a diagram known as phylogeny (a figure from the tutorial).
Phylogenies provide the
basis to study and understand all biological processes in an evolutionary context
\citep{dobzhansky1973nothing}.
Given the importance of phylogenies for biological research, improving reproducibility rates
in phylogenetics is increasingly relevant for many aspects of the natural sciences.

***What other platforms provide resources for reproducibility in phylogenetics???

The Open Tree of Life project (OpenTree) has developed a computational platform that provides
availability of results from vetted, state-of-the-art research in phylogenetics
\citep{opentreeoflife2019synth}.
%% by creating a standardized database of phylogenetic data that is used to synthesize
%% a single phylogenetic tree encompassing all life
OpenTree's database, the Phylesystem \citep{mctavish2015phylesystem}, provides
accessibility of phylogenetic data by standardizing organism names across biological databases,
and supporting digital data obtention in a computer readable format.
While this is accessible through their Graphical User Interface,
It does not support reproducibility
Accessibility does not imply reproducibility
In order for something to be highly reproducible, it has to be largely accessible.


is programmatically
available free of cost to users through OpenTree's Application Programming Interface
(API) services \citep{opentreeAPIs}.
Additionally, software packages written with open source, free of cost programming
languages commonly used in scientific research such as R and Python
\citep{baker2017scientific} have been developed as wrappers that have increased the availability
of OpenTree's API services, by making the OpenTree API functionalities more accessible
to a wider user audience \citep{michonneau2016rotl, mctavish2021opentree}.
Yet, the R and Python OpenTree API wrapper software packages have been mainly used
by computer-literate individuals
to seamlessly establish reproducible workflows to use and reuse expert phylogenetic
knowledge for biological research \citep{sanchez2019datelife, sanchez2021physcraper}
and education \citep{nguyen2020phylotastic, phylotasticedtools, galacticedtools}.
In the 5 years since its release, the R package wrapper for OpenTree \texttt{rotl}
has been cited by more than 190 biological research papers addressing various
topics \citep{googlerotl}.
Comparatively, other R packages for phylogenetics, such as \texttt{GGTREE}
and \texttt{mixOmics}, which were released one year after \texttt{rotl} have been
cited over a thousand times, which might indicate a delay \texttt{rotl}
adoption. Of course one potential explanation is that OpenTree services do not have
as wide an application as services provided by the afore mentioned R packages.
However, the
expressed enthusiasm (interest to use/inability to use the resource) by the target
 audience and larger community might point to a different issue.
%% We need a proper statistical distribution of citation numbers per year, to see
%% if rotl is an outlier or not.

While learners in the natural sciences have been engaging independently with R
and Python programming languages
as they represent two of the most widely used programming languages in the sciences
% for their fast and seamless statistics and data analysis environment
\citep{baker2017scientific}, computer programming is not traditionally
a core skill formally taught to biologists and naturalists
\citep{sayres2018bioinformatics, wright2019the, williams2019barriers}.
Moreover, the main usage of the OpenTree API services hints that tools intended to
improve availability and reproducibility come at a cost for the potential users:
 an increased required baseline computational knowledge and skillset
in the field.
As computers continue to play a larger role in most scientific disciplines \citep{piccolo2016tools},
higher baseline computational skills are required across all natural sciences.
% "Thus efforts to increase scientific reproducibility should consider the ubiquity of computers in research."
% In order for reproducible computational tools to be adopted for research, they
% need to be readily accessible for present and future researchers.
Thus, efforts to increase reproducibility rates in the natural sciences must consider
the specifics of scientific workflows that rely on usage of programming languages, such as
availability and accessibility of data and code \citep{peng2011reproducible, sandve2013ten, powers2019open}.
% However, the utility of data resources is limited by the technical challenges of accessing the data.
% In order to motivate reproducible research, that gap needs to be bridged.
% In this work we focus on improving accessibility of code examples and documentation.

We chose a phylogenetics workflow that relies on data and code from OpenTree to
identify the specific barriers to accessibility it presents.
Then, we design ways to overcome or diminish these barriers and apply them to
a series of tutorials and vignettes developed for the OpenTree project.
The tutorials are available at https://mctavishlab.github.io/R\_OpenTree\_tutorials/.

Finally, we generalize our findings to suggest a set of
principles that can be used as a guide to develop code and documentation materials
with increased accessibility, to improve availability and contribute to reproducibility.
Notably, these principles can be incorporated as learning goals into any syllabus for a
course or workshop on best practices for scientific reproducibility.
% In particular, we identify the necessity for documentation that is written down
% using language that is common to the target audience to facilitate examination,
% application, and adoption of code by the wider audience.

\section*{Identifying hurdles to accessibility}
\label{sec:identifying}

Good primary documentation for code is thorough. It describes general usage of individual functions,
the components and variables a function can take, and it should be accompanied with
function usage examples on how to apply it \citep{karimzadeh2018top}.
As opposed to code, primary documentation is written in natural language (i.e.,
any known human language, e.g., English, Spanish, Chinese).
Primary documentation is viewed as a key element for success of a piece of code
\citep{karimzadeh2018top},
which might be why it is also usually written using highly specialized computational jargon (i.e., computationally specific concepts,
words, and phrases) as well as formal scientific language.
While this might be important for formal acceptance of the code by the scientific
and academic community, it often slows down or even
obstructs examination, application, and adoption of code by the general audience \citep{ball2017its}.

Vignettes and tutorials work as secondary pieces of documentation, that help to demonstrate
additional cases of individual function usage, and showcase function associations
that work for specific analysis workflows in more detail.
As secondary documentation has become more common practice and is more flexible
in its form and content, it constitutes an ideal canvas to develop, implement and
test principles that can overcome current barriers to code accessibility.

\section*{Addressing hurdles to accessibility: some principles}
\label{sec:addressing}

\subsubsection*{a. Literate programming: Demonstrate code usage with integrative examples}

%% I think I have three different points here:
%% internalizing knowledge is made easier with active learning practices: learn by doing!
%% literate programming allows learning by doing AND at the same time provides a story that connects the acquired knowledge to a real worl problem.
%% By definition, all languages are abstract. We learn them because we grow up with them and they have a direct application for our lives.
%% Programming languages are no different, however, we start learning those later in life and we do not use them as regularly, making it harder for us to learn them and use them.
Pedagogical research shows that active learning practices are one the most effective
ways to take on abstract subjects \citep{freeman2014active}.
Programming computer languages are quite abstract and learning them can be greatly
enhanced by applying an active learning strategy such as linking its usage to
a ``real world'' or ``human'' application \citep{felder2009active}.

A story-like narrative that links pieces of code together and invites learners
to try the code can lead learners to remember what they are doing and
why they are doing it.
This ``literate programming'' paradigm \citep{knuth1984literate, fritzson2002mathmodelica}
makes code more approachable, as it integrates narratives with computer code in
the same document, supporting learners in actively following, remembering and understanding
the code usage \citep{piccolo2016tools}.
Documents developed with ``literate programming'' can be made more accessible by
choosing narratives that are relatable to a more general audience.

We examined available primary documentation for the package \texttt{rotl},
and designed a narrative that required the usage of as many functions as possible.
We demonstrate code applications that are commonly requested by OpenTree users,
but that are not demonstrated in the R package primary documentation.
By framing the function workflow using highly requested uses, the documentation acquires a
narrative arc that is easier to follow and remember by users. This can also facilitate the application
of code to other use cases in biology of interest for the learners.

%% Maybe Figure!! For the tutorial demonstrated here, we used the commonly requested use case of obtaining
%% a phylogenetic tree for all lineages within a specific taxonomic rank.

\subsubsection*{b. Demonstrate errors and warnings thoroughly}

A practice that has become more and more widespread in programming languages pedagogical practices
is the use of typos and mistakes to normalize them for learners and show them how
to solve them when they are outside the classroom \citep{shannon2015live}.
Yet, this is rarely done for written pedagogical materials.
Primary documentation focuses on demonstrating usage function with examples that
work seamlessly, without errors. We argue that the opposite is needed to support
adoption of reproducible workflows and support long term independence in learners
\citep{gaspar2007restoring}.
We demonstrate examples that do not work
as expected and exemplify ways to address them (Figure \ref{fig:first}).

We identify inputs that would give
a wide range of warnings and errors, focusing on demonstrating these cases. This
helps users to not be afraid of errors and warnings, but instead to use them to
their advantage.
We also identify effects of warnings and errors downstream of the workflow.

We identify ways to evaluate inputs to know if they will produce an error, and design
alternatives on what to do when faced with an error or warning, and demonstrate
these alternatives.
One of the most essential skills in programming is interpreting and moving forward
from errors.
Many finely honed tutorials do not trigger errors, which precludes helping students
to develop the tools to understand and address errors when they do encounter them,
as they inevitably will.
In our tutorial, we focus on explaining the meaning and downstream of warnings and errors, and
 showcase ways to detect them before they are triggered (i.e., before using an input
  that would elicit a warning or error). This has two pedagogical benefits:
1) it provides users/students with the means to troubleshoot their own warnings and errors, and
2) it allows users/students to understand with more depth what the function is doing.

% We designed ways to access the different elements of the outputs.

\begin{figure}
\begin{center}
\includegraphics[width=3in]{fig1.png}
\end{center}
\caption{Snapshot of a section of the tutorial website, where we demonstrate a common error. \label{fig:first}}
\end{figure}

\subsubsection*{c. Avoid jargon and expert language}

Besides avoiding formal language, and incorporating elements of pop culture, such as picture
character icons known as ``emojis``, to make the language more familiar to a
broader target audience (see Figure \ref{fig:first}), we made an effort to specifically
complement the primary documentation by identifying
computational concepts that were assumed or were not explained in depth.
We vetted the tutorials through feedback from workshop participants as well as individual users.
We choose examples that are charismatic for the audience.
For example, when we presented the tutorial for a team specialized in Amphibians,
we tailored the examples using frogs and their allies.


\subsubsection*{d. Make it stable through time}

We published the tutorials on a public, free license, free of cost, and free for
use and reuse repository and persistent website \citep{RopentreeTutorials, RopentreeTutorialsWebsite}.
The tutorial is available for the users to go back to any time they need it,
and to be passed on to other users (Figure \ref{fig:second}).

\begin{figure}
\begin{center}
\includegraphics[width=3in]{fig2.png}
\end{center}
\caption{Snapshot of the home to our tutorial website, showing part of the schedule. \label{fig:second}}
\end{figure}

We created a main version of the tutorial that is stable. Any updates to the tutorial are
published as new versions, or tutorials for new workshops \citep{CARPENTRIES}
 Versions presented at workshops are a copy from the original repository.
They represent a temporally stable snapshot of functions and workflows presented
during a workshop.

%%% \subsubsection*{5. The (now) classics of computational reproducibility}
%%%
%%% Provide all information on package version and system capabilities.
%%%
%%% > [name=Emily Jane McTavish]link to where/and how you did that

\section*{Conclusion}
\label{sec:conclusion}

Response form the community has been invaluable in gauging success of the tutorials.
Senior researchers often comment on the usefulness
of the tutorials for their research, as well as supporting students in using the
R packages with less help from them as PIs.

Making accessible reproducible workflows has several advantages:

- save explanation/training time when analyses are run again by students and collaborators;
- save research time for yourself when analyses are run again with more data, a
  different dataset, a different organism or biological model;
- scientific efforts can build off of each other.


Ultimately, the long term improvement of reproducibility rates in science will depend
on our ability to intentionally integrate the subject of reproducibility into the
undergraduate curriculum, so college learners and future researchers have the
basis to develop the fundamental skills needed to successfully create reproducible
scientific workflows and materials.

Some universities have been incorporating the subject in their classes (see
\cite{uwlibraries2022, nigms2022}).
The focus of these resources has been for students to develop skills to document their work.
The principles identified and outlined here can be used to set learning goals and
outcomes on new reproducibility syllabi.

The principles to create tutorials described here facilitate adoption of software
 and analysis workflows among researchers at different academic levels, from undergrads
  to established researchers.
It will also help close the gap between students that had access to computational
resources (and computational training) from an early age and students that did not.
Late access to computational resources and training can occur due to lack of
economic resources, often occurring in households from underrepresented communities
and minorities \citep{REFERENCE-NEEDED}.
It can also be due to gender-biased parental and community pressures,
in which male individuals are more often encouraged to perform activities related to computers,
while female individuals are discouraged \citep{REFERENCE-NEEDED}.
% How to balance software acceptance VS. adoption?
These principles can be used to improve not only reproducibility practices,
 but also software adoption in the natural sciences.
%% Discuss: why address accessibility and not other aspects of reproducibility?


\bigskip
\begin{center}
{\large\bf SUPPLEMENTARY MATERIAL}
\end{center}

\begin{description}

\item[Title:] Website and GitHub repository containing the complete teaching materials developed and demonstrated here.

\item[GitHub repository link:] \url{https://github.com/McTavishLab/R_OpenTree_tutorials}

\item[Website link:] \url{https://mctavishlab.github.io/R_OpenTree_tutorials}

\end{description}

\bibliography{Manuscript-bibliography}

\end{document}
